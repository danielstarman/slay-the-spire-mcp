{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://slay-the-spire-mcp/schemas/game_state.json",
  "title": "GameState",
  "description": "Full game state from SpireBridge mod",
  "type": "object",
  "properties": {
    "in_game": {
      "type": "boolean",
      "description": "Whether a game is currently active"
    },
    "screen_type": {
      "type": "string",
      "description": "Current screen type (CARD_REWARD, SHOP, REST, COMBAT, MAP, etc.)"
    },
    "floor": {
      "type": "integer",
      "description": "Current floor number"
    },
    "act": {
      "type": "integer",
      "description": "Current act (1, 2, 3, or 4 for Heart)"
    },
    "hp": {
      "type": "integer",
      "description": "Current player HP"
    },
    "max_hp": {
      "type": "integer",
      "description": "Maximum player HP"
    },
    "gold": {
      "type": "integer",
      "description": "Current gold amount"
    },
    "deck": {
      "type": "array",
      "description": "Cards in deck",
      "items": {
        "$ref": "#/definitions/Card"
      }
    },
    "relics": {
      "type": "array",
      "description": "Owned relics",
      "items": {
        "$ref": "#/definitions/Relic"
      }
    },
    "potions": {
      "type": "array",
      "description": "Owned potions",
      "items": {
        "$ref": "#/definitions/Potion"
      }
    },
    "choice_list": {
      "type": "array",
      "description": "Available choices for current decision",
      "items": {
        "type": "string"
      }
    },
    "seed": {
      "type": "integer",
      "description": "Run seed for reproducibility"
    }
  },
  "definitions": {
    "Card": {
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "cost": { "type": "integer" },
        "type": { "type": "string" },
        "upgraded": { "type": "boolean" }
      },
      "required": ["id", "name"]
    },
    "Relic": {
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "counter": { "type": "integer" }
      },
      "required": ["id", "name"]
    },
    "Potion": {
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "can_use": { "type": "boolean" },
        "can_discard": { "type": "boolean" }
      },
      "required": ["id", "name"]
    }
  }
}
